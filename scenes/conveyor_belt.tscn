[gd_scene load_steps=14 format=3 uid="uid://q6871l13ss6m"]

[ext_resource type="Script" uid="uid://bokjt47usnxpn" path="res://scripts/conveyor_belt.gd" id="1_65uwv"]
[ext_resource type="Texture2D" uid="uid://u0yn8w7xmf82" path="res://assets/gear/gear_1.png" id="2_it644"]
[ext_resource type="Texture2D" uid="uid://kaudachadwgu" path="res://assets/gear/gear_2.png" id="3_pim3x"]
[ext_resource type="Texture2D" uid="uid://cgarx1m7lwhwd" path="res://assets/gear/gear_3.png" id="4_nlha8"]
[ext_resource type="Texture2D" uid="uid://dppqpmkmvajy2" path="res://assets/gear/gear_4.png" id="5_g4y7j"]
[ext_resource type="Script" uid="uid://1sualdy6pjyu" path="res://scripts/conveyor_path_2d.gd" id="6_444fa"]
[ext_resource type="Texture2D" uid="uid://dgl3fey7toqql" path="res://assets/gear/clutch.png" id="6_pim3x"]
[ext_resource type="Script" uid="uid://dqnkny4sscyyu" path="res://scripts/path_follow_2d.gd" id="7_g4y7j"]
[ext_resource type="Texture2D" uid="uid://bbkdbrye6fd8c" path="res://assets/conveyor_belt.png" id="8_g4y7j"]

[sub_resource type="CircleShape2D" id="CircleShape2D_4n2of"]
radius = 110.0

[sub_resource type="SpriteFrames" id="SpriteFrames_444fa"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_it644")
}, {
"duration": 1.0,
"texture": ExtResource("3_pim3x")
}, {
"duration": 1.0,
"texture": ExtResource("4_nlha8")
}, {
"duration": 1.0,
"texture": ExtResource("5_g4y7j")
}],
"loop": true,
"name": &"default",
"speed": 15.0
}]

[sub_resource type="CircleShape2D" id="CircleShape2D_65uwv"]
radius = 110.0

[sub_resource type="Curve2D" id="Curve2D_it644"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 15, -109, 0, 0, 0, 0, -16, -109, 0, 0, 0, 0, -35, -104, 0, 0, 0, 0, -51, -97, 0, 0, 0, 0, -64, -89, 0, 0, 0, 0, -79, -80, 0, 0, 0, 0, -90, -65, 0, 0, 0, 0, -98, -51, 0, 0, 0, 0, -103, -38, 0, 0, 0, 0, -108, -25, 0, 0, 0, 0, -110, -11, 0, 0, 0, 0, -110, 3, 0, 0, 0, 0, -108, 16, 0, 0, 0, 0, -107, 27, 0, 0, 0, 0, -103, 36, 0, 0, 0, 0, -100, 45, 0, 0, 0, 0, -95, 55, 0, 0, 0, 0, -89, 63, 0, 0, 0, 0, -80, 73, 0, 0, 0, 0, -73, 81, 0, 0, 0, 0, -65, 87, 0, 0, 0, 0, -56, 94, 0, 0, 0, 0, -46, 99, 0, 0, 0, 0, -36, 104, 0, 0, 0, 0, -28, 107, 0, 0, 0, 0, -19, 108, 0, 0, 0, 0, -7, 109, 0, 0, 0, 0, 0, 110, 0, 0, 0, 0, 7, 110, 0, 0, 0, 0, 634, 110, 0, 0, 0, 0, 644, 110, 0, 0, 0, 0, 654, 109, 0, 0, 0, 0, 664, 107, 0, 0, 0, 0, 674, 105, 0, 0, 0, 0, 683, 101, 0, 0, 0, 0, 689, 98, 0, 0, 0, 0, 695, 96, 0, 0, 0, 0, 700, 92, 0, 0, 0, 0, 707, 87, 0, 0, 0, 0, 711, 83, 0, 0, 0, 0, 718, 75, 0, 0, 0, 0, 724, 69, 0, 0, 0, 0, 730, 61, 0, 0, 0, 0, 737, 53, 0, 0, 0, 0, 741, 42, 0, 0, 0, 0, 744, 34, 0, 0, 0, 0, 747, 27, 0, 0, 0, 0, 749, 17, 0, 0, 0, 0, 750, 10, 0, 0, 0, 0, 751, -2, 0, 0, 0, 0, 751, -15, 0, 0, 0, 0, 746, -31, 0, 0, 0, 0, 741, -42, 0, 0, 0, 0, 736, -52, 0, 0, 0, 0, 732, -61, 0, 0, 0, 0, 725, -70, 0, 0, 0, 0, 714, -84, 0, 0, 0, 0, 698, -95, 0, 0, 0, 0, 685, -100, 0, 0, 0, 0, 676, -104, 0, 0, 0, 0, 666, -106, 0, 0, 0, 0, 655, -108, 0, 0, 0, 0, 645, -109, 0, 0, 0, 0, 631, -109, 0, 0, 0, 0, 15, -109)
}
point_count = 65

[node name="ConveyorBelt" type="Node2D"]
script = ExtResource("1_65uwv")

[node name="WheelLeft" type="StaticBody2D" parent="."]
constant_angular_velocity = -1.5707964

[node name="CollisionShape2D" type="CollisionShape2D" parent="WheelLeft"]
shape = SubResource("CircleShape2D_4n2of")

[node name="WheelLeft" type="AnimatedSprite2D" parent="WheelLeft"]
sprite_frames = SubResource("SpriteFrames_444fa")
autoplay = "default"
frame_progress = 0.51694673

[node name="WheelMiddle" type="AnimatedSprite2D" parent="."]
position = Vector2(320, 0)
sprite_frames = SubResource("SpriteFrames_444fa")
autoplay = "default"
frame_progress = 0.49350086

[node name="WheelRight" type="StaticBody2D" parent="."]
position = Vector2(640, 0)
constant_angular_velocity = 1.5707964

[node name="CollisionShape2D" type="CollisionShape2D" parent="WheelRight"]
shape = SubResource("CircleShape2D_65uwv")

[node name="WheelRight" type="AnimatedSprite2D" parent="WheelRight"]
sprite_frames = SubResource("SpriteFrames_444fa")
autoplay = "default"
frame_progress = 0.583294

[node name="Path2D" type="Path2D" parent="."]
curve = SubResource("Curve2D_it644")
script = ExtResource("6_444fa")

[node name="PathFollow2D" type="PathFollow2D" parent="Path2D"]
position = Vector2(15, -109)
rotation = 3.1415927
script = ExtResource("7_g4y7j")

[node name="Clutch" type="Sprite2D" parent="Path2D/PathFollow2D"]
position = Vector2(-13.728134, 78.838684)
scale = Vector2(0.7618396, 0.76183957)
texture = ExtResource("6_pim3x")

[node name="StaticBody2D" type="StaticBody2D" parent="."]
position = Vector2(328, 8)
scale = Vector2(1.0179813, 1.0179813)
constant_linear_velocity = Vector2(-600, 0)

[node name="ConveyorBelt" type="Sprite2D" parent="StaticBody2D"]
texture = ExtResource("8_g4y7j")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="StaticBody2D"]
polygon = PackedVector2Array(-330.5, -133, -330.5, -131.8, -346.8, -129, -351.9, -129, -371.9, -120, -375.1, -120, -391, -109, -393.3, -109, -411.4, -92, -412.5, -92, -428.5, -69, -429.8, -69, -435.8, -55, -437, -55, -442, -37, -443.3, -37, -445.3, -16, -446.6, -16, -445.5, 2.100006, -445.5, 11.300003, -441.5, 26, -441.5, 30.5, -430.5, 53.399994, -430.5, 55.699997, -419.5, 69.600006, -419.5, 71.8, -405.5, 85.8, -405.5, 87, -387.5, 100, -387.5, 101.3, -362.5, 112.20001, -362.5, 113.600006, -339.5, 118.600006, -339.5, 120, 321.8, 120, 358.90002, 107, 361.09998, 107, 375.09998, 97, 377.3, 97, 394.40002, 81, 395.5, 81, 412.5, 57, 413.90002, 57, 417.90002, 47, 419, 47, 426, 24, 427.3, 24, 429.3, 4, 430.59998, 4, 429.5, -13.100006, 429.5, -23.300003, 425.5, -37, 425.5, -41.4, 416.5, -61.4, 416.5, -63.699997, 402.5, -82.7, 402.5, -84.9, 384.5, -102, 384.5, -103.1, 362.5, -117.2, 362.5, -118.4, 337.5, -127.5, 337.5, -128.7, 323.5, -130.8, 323.5, -132)
